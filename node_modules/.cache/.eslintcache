[{"D:\\Web Dev\\Code\\code-editor\\src\\index.js":"1","D:\\Web Dev\\Code\\code-editor\\src\\App.js":"2","D:\\Web Dev\\Code\\code-editor\\src\\reportWebVitals.js":"3","D:\\Web Dev\\Code\\code-editor\\src\\pages\\EditorPage.js":"4","D:\\Web Dev\\Code\\code-editor\\src\\pages\\Home.js":"5","D:\\Web Dev\\Code\\code-editor\\src\\components\\Client.js":"6","D:\\Web Dev\\Code\\code-editor\\src\\components\\Editor.js":"7","D:\\Web Dev\\Code\\code-editor\\src\\socket.js":"8","D:\\Web Dev\\Code\\code-editor\\src\\Actions.js":"9","D:\\Web Dev\\code-editor\\src\\index.js":"10","D:\\Web Dev\\code-editor\\src\\App.js":"11","D:\\Web Dev\\code-editor\\src\\reportWebVitals.js":"12","D:\\Web Dev\\code-editor\\src\\pages\\Home.js":"13","D:\\Web Dev\\code-editor\\src\\pages\\EditorPage.js":"14","D:\\Web Dev\\code-editor\\src\\Actions.js":"15","D:\\Web Dev\\code-editor\\src\\socket.js":"16","D:\\Web Dev\\code-editor\\src\\components\\Client.js":"17","D:\\Web Dev\\code-editor\\src\\components\\Editor.js":"18","D:\\Web Dev\\code-editor\\src\\pages\\Card.js":"19","D:\\Web Dev\\code-editor\\src\\pages\\typewr.js":"20"},{"size":541,"mtime":1685298259605,"results":"21","hashOfConfig":"22"},{"size":938,"mtime":1684942214869,"results":"23","hashOfConfig":"22"},{"size":362,"mtime":1684772016459,"results":"24","hashOfConfig":"22"},{"size":4058,"mtime":1685290847726,"results":"25","hashOfConfig":"22"},{"size":2825,"mtime":1685295011888,"results":"26","hashOfConfig":"22"},{"size":312,"mtime":1647632923000,"results":"27","hashOfConfig":"22"},{"size":1914,"mtime":1685290925004,"results":"28","hashOfConfig":"22"},{"size":370,"mtime":1685268962437,"results":"29","hashOfConfig":"22"},{"size":202,"mtime":1647632923000,"results":"30","hashOfConfig":"22"},{"size":543,"mtime":1687790139912,"results":"31","hashOfConfig":"32"},{"size":1135,"mtime":1688138411785,"results":"33","hashOfConfig":"32"},{"size":362,"mtime":1684772016459,"results":"34","hashOfConfig":"32"},{"size":4318,"mtime":1688140720963,"results":"35","hashOfConfig":"32"},{"size":4077,"mtime":1688106719797,"results":"36","hashOfConfig":"32"},{"size":202,"mtime":1647632923000,"results":"37","hashOfConfig":"32"},{"size":370,"mtime":1687103302023,"results":"38","hashOfConfig":"32"},{"size":867,"mtime":1688107129605,"results":"39","hashOfConfig":"32"},{"size":2172,"mtime":1688109027809,"results":"40","hashOfConfig":"32"},{"size":202,"mtime":1677834048000,"results":"41","hashOfConfig":"32"},{"size":368,"mtime":1688138934471,"results":"42","hashOfConfig":"32"},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"xb5ka9",{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56"},{"filePath":"57","messages":"58","suppressedMessages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60"},{"filePath":"61","messages":"62","suppressedMessages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"64","messages":"65","suppressedMessages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67"},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1raau0s",{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"83"},{"filePath":"84","messages":"85","suppressedMessages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","suppressedMessages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"90","messages":"91","suppressedMessages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"83"},{"filePath":"93","messages":"94","suppressedMessages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"83"},{"filePath":"96","messages":"97","suppressedMessages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"99","messages":"100","suppressedMessages":"101","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"102","messages":"103","suppressedMessages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"105","messages":"106","suppressedMessages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\Web Dev\\Code\\code-editor\\src\\index.js",[],[],"D:\\Web Dev\\Code\\code-editor\\src\\App.js",[],[],[],"D:\\Web Dev\\Code\\code-editor\\src\\reportWebVitals.js",[],[],"D:\\Web Dev\\Code\\code-editor\\src\\pages\\EditorPage.js",["108"],[],"import React, { useState, useRef, useEffect } from \"react\";\nimport toast from \"react-hot-toast\";\nimport ACTIONS from \"../Actions\";\nimport Client from \"../components/Client\";\nimport Editor from \"../components/Editor\";\nimport { initSocket } from \"../socket\";\nimport {\n  useLocation,\n  useNavigate,\n  Navigate,\n  useParams,\n} from \"react-router-dom\";\n\nconst EditorPage = () => {\n  const socketRef = useRef(null);\n  const reactNavigator = useNavigate();\n  const location = useLocation();\n  const codeRef = useRef(null);\n  const { roomId } = useParams();\n  const [clients, setClients] = useState([\n     \n  ]);\n\n  useEffect(() => {\n    const init = async () => {\n      socketRef.current = await initSocket(); // client connect to server by this function\n      socketRef.current.on(\"connect_error\", (err) => handleErrors(err));\n      socketRef.current.on(\"connect_failed\", (err) => handleErrors(err));\n\n      function handleErrors(e) {\n        console.log(\"socket error\", e);\n        toast.error(\"Socket connection failed, try again later.\");\n        reactNavigator(\"/\");\n      }\n      // used for room id to send\n      socketRef.current.emit(ACTIONS.JOIN, {\n        // emit the join event\n        roomId,\n        username: location.state?.username, // ? if username not given then not give error\n      });\n\n\n\n\n\n // Listening for joined event \n      socketRef.current.on(\n        ACTIONS.JOINED,\n        ({ clients, username, socketId }) => {\n          if (username !== location.state?.username) { // who are started didnt get notify other will get \n            toast.success(`${username} joined the room.`);\n            console.log(`${username} joined`);\n          }\n          setClients(clients); // pushing client  \n          // as the client join we have to sync the previous code \n          socketRef.current.emit(ACTIONS.SYNC_CODE, {\n            code: codeRef.current,\n            socketId,\n          });\n        }\n      );\n \n          // Listening for disconnected\n          socketRef.current.on(\n            ACTIONS.DISCONNECTED,\n            ({ socketId, username }) => {\n                toast.success(`${username} left the room.`);\n                setClients((prev) => { // recieve the previous state \n                    return prev.filter(   // loop through \n                        (client) => client.socketId !== socketId   // remove the disconnected client \n                    );\n                });\n            }\n        );\n\n    };\n    init();\n   \n  //many listener(ex socket.on) are there so we have to remove them \n  return () => {\n    socketRef.current.disconnect();\n    socketRef.current.off(ACTIONS.JOINED); //unsubscribe the event \n    socketRef.current.off(ACTIONS.DISCONNECTED);\n};\n  }, []);\n\n  \n\n  async function copyRoomId() {\n    try {\n      await navigator.clipboard.writeText(roomId); // inbuit api from browser   \n      toast.success(\"Room ID has been copied to your clipboard\");\n    } catch (err) {\n      toast.error(\"Could not copy the Room ID\");\n      console.error(err);\n    }\n  }\n\n  function leaveRoom() {\n    reactNavigator(\"/\");\n  }\n\n  if (!location.state) {\n    return <Navigate to=\"/\" />;\n  }\n\n  return (\n    <div className=\"mainWrap\">\n      <div className=\"aside\">\n        <div className=\"asideInner\">\n          <div className=\"logo\">\n            <img className=\"logoImage\" src=\"/code-sync.png\" alt=\"logo\" />\n          </div>\n          <h3>Connected</h3>\n          <div className=\"clientsList\">\n            {clients.map((client) => (\n              <Client key={client.socketId} username={client.username} />\n            ))}\n          </div>\n        </div>\n        <button className=\"btn copyBtn\" onClick={copyRoomId}>\n          Copy ROOM ID\n        </button>\n        <button className=\"btn leaveBtn\" onClick={leaveRoom}>\n          Leave\n        </button>\n      </div>\n      <div className=\"editorWrap\">\n        <Editor\n        socketRef={socketRef}\n        roomId={roomId}\n        onCodeChange={(code) => {\n            codeRef.current = code;\n        }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default EditorPage;\n","D:\\Web Dev\\Code\\code-editor\\src\\pages\\Home.js",["109"],[],"import React, { useState } from 'react';\nimport { v4 as uuidV4 } from 'uuid';\nimport toast from 'react-hot-toast';\nimport { useNavigate } from 'react-router-dom';\n\nconst Home = () => {\n    const navigate = useNavigate();\n\n    const [roomId, setRoomId] = useState('');\n    const [username, setUsername] = useState('');\n    const createNewRoom = (e) => {\n        e.preventDefault();\n        const id = uuidV4();\n        setRoomId(id);\n        toast.success('Created a new room');\n    };\n\n    const joinRoom = () => {\n        if (!roomId || !username) {\n            toast.error('ROOM ID & Username is required');\n            return;\n        }\n\n        // Redirect\n        navigate(`/editor/${roomId}`, {\n            state: {\n                username, // passing username from room page to editor page \n            },\n        });\n    };\n\n    const handleInputEnter = (e) => {\n        if (e.code === 'Enter') {\n            joinRoom();\n        }\n    };\n    return (\n        <div className=\"homePageWrapper\">\n            <div className=\"formWrapper\">\n                <img\n                    className=\"homePageLogo\"\n                    src=\"/code-sync.png\"\n                    alt=\"code-sync-logo\"\n                />\n                <h4 className=\"mainLabel\">Paste invitation ROOM ID</h4>\n                <div className=\"inputGroup\">\n                    <input\n                        type=\"text\"\n                        className=\"inputBox\"\n                        placeholder=\"ROOM ID\"\n                        onChange={(e) => setRoomId(e.target.value)}\n                        value={roomId}\n                        onKeyUp={handleInputEnter}\n                    />\n                    <input\n                        type=\"text\"\n                        className=\"inputBox\"\n                        placeholder=\"USERNAME\"\n                        onChange={(e) => setUsername(e.target.value)}\n                        value={username}\n                        onKeyUp={handleInputEnter}\n                    />\n                    <button className=\"btn joinBtn\" onClick={joinRoom}>\n                        Join\n                    </button>\n                    <span className=\"createInfo\">\n                        If you don't have an invite then create &nbsp;\n                        <a\n                            onClick={createNewRoom}\n                            href=\"\"\n                            className=\"createNewBtn\"\n                        >\n                            new room\n                        </a>\n                    </span>\n                </div>\n            </div>\n            <footer>\n                <h4>\n                    {/* Built  ðŸ’› &nbsp; by &nbsp;\n                    <a href=\"\">Sankalp Sharma</a> */}\n                </h4>\n            </footer>\n        </div>\n    );\n};\n\nexport default Home;\n","D:\\Web Dev\\Code\\code-editor\\src\\components\\Client.js",[],[],"D:\\Web Dev\\Code\\code-editor\\src\\components\\Editor.js",["110","111","112"],[],"import React, { useEffect, useRef } from 'react';\nimport Codemirror from 'codemirror';\nimport 'codemirror/lib/codemirror.css';\nimport 'codemirror/theme/dracula.css';\nimport 'codemirror/mode/javascript/javascript';\nimport 'codemirror/addon/edit/closetag';\nimport 'codemirror/addon/edit/closebrackets';\nimport ACTIONS from '../Actions';  \n\nconst Editor = ({socketRef,roomId, onCodeChange}) => {\n    const editorRef = useRef(null);\n    useEffect(()=>{\n       async function init()\n       {\n        editorRef.current =Codemirror.fromTextArea(\n            document.getElementById('realtimeEditor'),\n            {\n                mode: { name: 'javascript', json: true },\n                theme: 'dracula',\n                autoCloseTags: true,\n                autoCloseBrackets: true,\n                lineNumbers: true,\n            }\n        );\n  // when we add delete paste all can be shown in origin we can easily get it \n        editorRef.current.on('change', (instance, changes) => {\n            const { origin } = changes;\n            // console.log(changes);\n            const code = instance.getValue(); //get content of editor \n            onCodeChange(code);\n            if (origin !== 'setValue') {\n                socketRef.current.emit(ACTIONS.CODE_CHANGE, {\n                    roomId,\n                    code,\n                });\n            }\n        }); \n\n   \n   \n\n       }\n   init();\n\n    },[]);\n\n    useEffect(() => {\n        if (socketRef.current) {\n            socketRef.current.on(ACTIONS.CODE_CHANGE, ({ code }) => {\n                if (code !== null) {\n                    editorRef.current.setValue(code);\n                }\n            });\n        }\n    //unsubscribe the code change function \n        return () => {\n            socketRef.current.off(ACTIONS.CODE_CHANGE);\n        };\n    }, [socketRef.current]);\n\n\n    return <textarea id=\"realtimeEditor\"></textarea>;\n};\n\nexport default Editor;\n","D:\\Web Dev\\Code\\code-editor\\src\\socket.js",[],[],"D:\\Web Dev\\Code\\code-editor\\src\\Actions.js",[],[],"D:\\Web Dev\\code-editor\\src\\index.js",[],[],"D:\\Web Dev\\code-editor\\src\\App.js",[],[],"D:\\Web Dev\\code-editor\\src\\reportWebVitals.js",[],[],[],"D:\\Web Dev\\code-editor\\src\\pages\\Home.js",[],[],"D:\\Web Dev\\code-editor\\src\\pages\\EditorPage.js",["113"],[],"D:\\Web Dev\\code-editor\\src\\Actions.js",[],[],"D:\\Web Dev\\code-editor\\src\\socket.js",[],[],"D:\\Web Dev\\code-editor\\src\\components\\Client.js",[],[],"D:\\Web Dev\\code-editor\\src\\components\\Editor.js",["114","115","116"],[],"D:\\Web Dev\\code-editor\\src\\pages\\Card.js",[],[],"D:\\Web Dev\\code-editor\\src\\pages\\typewr.js",[],[],{"ruleId":"117","severity":1,"message":"118","line":85,"column":6,"nodeType":"119","endLine":85,"endColumn":8,"suggestions":"120"},{"ruleId":"121","severity":1,"message":"122","line":68,"column":25,"nodeType":"123","endLine":72,"endColumn":26},{"ruleId":"117","severity":1,"message":"124","line":45,"column":7,"nodeType":"119","endLine":45,"endColumn":9,"suggestions":"125"},{"ruleId":"117","severity":1,"message":"126","line":57,"column":23,"nodeType":"127","endLine":57,"endColumn":30},{"ruleId":"117","severity":1,"message":"128","line":59,"column":8,"nodeType":"119","endLine":59,"endColumn":27,"suggestions":"129"},{"ruleId":"117","severity":1,"message":"118","line":82,"column":6,"nodeType":"119","endLine":82,"endColumn":8,"suggestions":"130"},{"ruleId":"117","severity":1,"message":"124","line":50,"column":7,"nodeType":"119","endLine":50,"endColumn":9,"suggestions":"131"},{"ruleId":"117","severity":1,"message":"126","line":62,"column":23,"nodeType":"127","endLine":62,"endColumn":30},{"ruleId":"117","severity":1,"message":"128","line":64,"column":8,"nodeType":"119","endLine":64,"endColumn":27,"suggestions":"132"},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'location.state?.username', 'reactNavigator', and 'roomId'. Either include them or remove the dependency array.","ArrayExpression",["133"],"jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/HEAD/docs/rules/anchor-is-valid.md","JSXOpeningElement","React Hook useEffect has missing dependencies: 'onCodeChange', 'roomId', and 'socketRef'. Either include them or remove the dependency array. If 'onCodeChange' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["134"],"The ref value 'socketRef.current' will likely have changed by the time this effect cleanup function runs. If this ref points to a node rendered by React, copy 'socketRef.current' to a variable inside the effect, and use that variable in the cleanup function.","Identifier","React Hook useEffect has a missing dependency: 'socketRef'. Either include it or remove the dependency array. Mutable values like 'socketRef.current' aren't valid dependencies because mutating them doesn't re-render the component.",["135"],["136"],["137"],["138"],{"desc":"139","fix":"140"},{"desc":"141","fix":"142"},{"desc":"143","fix":"144"},{"desc":"139","fix":"145"},{"desc":"141","fix":"146"},{"desc":"143","fix":"147"},"Update the dependencies array to be: [location.state?.username, reactNavigator, roomId]",{"range":"148","text":"149"},"Update the dependencies array to be: [onCodeChange, roomId, socketRef]",{"range":"150","text":"151"},"Update the dependencies array to be: [socketRef]",{"range":"152","text":"153"},{"range":"154","text":"149"},{"range":"155","text":"151"},{"range":"156","text":"153"},[2704,2706],"[location.state?.username, reactNavigator, roomId]",[1402,1404],"[onCodeChange, roomId, socketRef]",[1809,1828],"[socketRef]",[2701,2703],[1660,1662],[2067,2086]]